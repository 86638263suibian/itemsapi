{
  "elasticsearch": {
    "host": "localhost:9200",
    "log": "error"
  },
  "redis": {
    "host": "127.0.0.1",
    "port": 6379,
    "auth_pass": null
  },
  "server": {
    "host": "http://127.0.0.1",
    "port": 3000
  },
  "collection": {
    "db": "json",
    "filename":  "./config/collections.json"
  },
  "project": {
    "name": "itemsapi"
  },
  "collections": {
    "movie": {
      "project": "itemsapi",
      "meta": {
        "title": "Movies",
        "created": "spring 2015"
      },
      "visibility": "public",
      "privileges": [
        "read", "edit", "delete"
      ],
      "defaults": {
        "sort": "most_votes"
      },
      "schema": {
        "name": {"type": "string", "store": true },
        "image": {"type": "string", "display": "image" },
        "year": {"type": "integer", "store": true },
        "votes": {"type": "integer", "store": true },
        "director": {"type": "string", "index": "not_analyzed", "store": true },
        "actors": {"type": "string", "index": "not_analyzed", "display": "array", "store": true },
        "tags": {"type": "string", "display": "array", "store": true },
        "rating": {"type": "float", "store": true }
      },
      "sortings": {
        "rating": {
          "title": "Best rating",
          "type": "normal",
          "order": "desc",
          "field": "rating"
        },
        "most_votes": {
          "title": "Most votes",
          "type": "normal",
          "order": "desc",
          "field": "votes"
        },
        "year_newest": {
          "title": "Newest movies",
          "type": "normal",
          "order": "desc",
          "field": "year"
        },
        "year_oldest": {
          "title": "Oldest movies",
          "type": "normal",
          "order": "asc",
          "field": "year"
        }
      },
      "aggregations": {
        "actors_terms": {"type": "terms", "field": "actors", "size": 10, "title": "Actors"},
        "director_terms": {"type": "terms", "field": "director", "size": 5, "title": "Directors"},
        "tags_terms": {"type": "terms", "field": "tags", "size": 10, "title": "Tags"},

        "votes_range": {
          "type": "range",
          "field": "votes",
          "title": "Votes range",
          "ranges": [
            {"lte": 300, "name": "< 300"},
            {"gte": 300, "lte": 1000, "name": "300 - 1000"},
            {"gte": 1000, "lte": 3000, "name": "1000 - 3000"},
            {"gte": 3000, "name": "> 3000"}
          ]
        },
        "years_range": {
          "type": "range",
          "field": "year",
          "title": "Years range",
          "ranges": [
            {"lte": 1950, "name": "1950 - 1960"},
            {"gte": 1950, "lte": 1960, "name": "1950 - 1960"},
            {"gte": 1960, "lte": 1970, "name": "1960 - 1970"},
            {"gte": 1970, "lte": 1980, "name": "1970 - 1980"},
            {"gte": 1980, "lte": 1990, "name": "1980 - 1990"},
            {"gte": 1990, "lte": 2000, "name": "1990 - 2000"},
            {"gte": 2000, "lte": 2010, "name": "2000 - 2010"},
            {"gte": 2010, "name": "> 2010"}
          ]
        },
        "rating_range": {
          "type": "range",
          "field": "rating",
          "title": "Rating range",
          "ranges": [
            {"lte": 1, "name": "0 - 1"},
            {"gte": 1, "lte": 2, "name": "1 - 2"},
            {"gte": 2, "lte": 3, "name": "2 - 3"},
            {"gte": 3, "lte": 4, "name": "3 - 4"},
            {"gte": 4, "lte": 5, "name": "4 - 5"},
            {"gte": 5, "lte": 6, "name": "5 - 6"},
            {"gte": 6, "lte": 7, "name": "6 - 7"},
            {"gte": 7, "lte": 8, "name": "7 - 8"},
            {"gte": 8, "lte": 9, "name": "8 - 9"},
            {"gte": 9, "name": "9 - 10"}
          ]
        }
      },
      "table": {
        "fields": ["image", "name", "director", "rating", "year", "votes", "tags", "actors"]
      }
    },
    "song": {
      "meta": {
        "title": "Songs"
      },
      "defaults": {
        "sort": "favorites"
      },
      "schema": {
        "name": {"type": "string", "store": true },
        "artist": {"type": "string", "store": true, "index": "not_analyzed" },
        "year": {"type": "integer", "store": true },
        "favorites": {"type": "integer", "store": true },
        "played": {"type": "integer", "store": true },
        "image": {"type": "string", "display": "image" },
        "tags": {"type": "string", "index": "not_analyzed", "display": "array", "store": true },
        "rating": {"type": "integer", "store": true }
      },
      "table": {
        "fields": ["name", "tags", "artist", "favorites", "played"]
      },
      "sortings": {
        "favorites": {
          "title": "Favorites count",
          "type": "normal",
          "order": "desc",
          "field": "favorites"
        },
        "played": {
          "title": "Played count",
          "type": "normal",
          "order": "desc",
          "field": "played"
        }
      },
      "aggregations": {
        "artist_terms": {"type": "terms", "field": "artist", "size": 10, "title": "Artists"},
        "tags_terms": {"type": "terms", "field": "tags", "size": 10, "title": "Tags"},
        "favorites_range": {"type": "range", "field": "favorites", "ranges": [
          [300000, 400000, "300 - 400"],
          [400000, 500000, "400 - 500"],
          [500000, null, "> 500"]],
          "title": "Favorites count [k]"},
        "played_range": {"type": "range", "field": "played", "ranges": [
          [1000000, 2000000, "1 - 2"],
          [2000000, 3000000, "2 - 3"],
          [3000000, 4000000, "3 - 4"],
          [4000000, null, "> 4"]],
          "title": "Played count [mln]"}
      }
    },
    "city": {
      "meta": {
        "title": "Cities"
      },
      "defaults": {
        "sort": "city"
      },
      "schema": {
        "city": {"type": "string", "store": true, "index": "not_analyzed"},
        "province": {"type": "string", "store": true},
        "province_icon": {"type": "string", "display": "image"},
        "country": {"type": "string", "store": true},
        "country_icon": {"type": "string", "display": "image"},
        "country": {"type": "string", "index": "not_analyzed", "store": true},
        "geo": {"type": "geo_point"}
      },
      "sortings": {
        "country": {
          "title": "Country",
          "type": "normal",
          "order": "asc",
          "field": "country"
        },
        "distance": {
          "title": "Distance",
          "type": "geo",
          "order": "asc",
          "field": "geo"
        },
        "city": {
          "title": "City",
          "type": "normal",
          "order": "asc",
          "field": "city"
        }
      },
      "table": {
        "fields": ["country_icon", "country", "city", "province_icon", "province", "geo", "distance"]
      },
      "aggregations": {
        "country": {"type": "terms", "field": "country", "size": 10, "title": "Country"},
        "distance_ranges": {"type": "geo_distance", "field": "geo", "point": [50.0646500, 19.9449800],
          "ranges": [
            [null, 500, "< 500"],
            [500, 1000, "500 - 1000"],
            [1000, 1500, "1000 - 1500"],
            [1500, 2000, "1500 - 2000"],
            [2000, null, "> 2000"]], "unit": "km",
          "title": "Distance ranges [km]"}
      }
    },
    "quote": {
      "meta": {
        "title": "Quotes"
      },
      "schema": {
        "author": {"type": "string", "index": "not_analyzed", "store": true },
        "book": {"type": "string", "store": true },
        "tags": {"type": "string", "display": "array", "index": "not_analyzed", "store": true },
        "image": {"type": "string", "display": "image" },
        "text": {"type": "string", "store": true }
      },
      "aggregations": {
        "authors_terms": {"type": "terms", "field": "author", "size": 10},
        "tags_terms": {"type": "terms", "field": "tags", "size": 10}
      },
      "table": {
        "fields": ["image", "author", "text", "tags", "likes"]
      }
    },
    "dotacje": {
      "schema": {
        "name": {"type": "string", "store": true, "index": "not_analyzed" },
        "receiver": {"type": "string", "store": true, "index": "not_analyzed" },
        "voivodeship": {"type": "string", "store": true, "index": "not_analyzed" },
        "region": {"type": "string", "display": "array", "store": true },
        "investment": {"type": "integer", "store": false },
        "value": {"type": "integer", "store": false },
        "percent": {"type": "integer", "store": false },
        "start": {"type": "integer", "store": false },
        "end": {"type": "integer", "store": false }
      },
      "defaults": {
      },
      "visibility": "private",
      "aggregations": {
        "voivodeship_terms": {"type": "terms", "field": "voivodeship", "size": 15, "title": "Voivodeships"},
        "region_terms": {"type": "terms", "field": "region", "size": 15, "title": "Regions"},
        "receiver_terms": {"type": "terms", "field": "receiver", "size": 15, "title": "Receivers"}
      },
      "sortings": {
        "biggest_investment": {
          "title": "Biggest investment",
          "type": "normal",
          "order": "desc",
          "field": "investment"
        },
        "biggest_percent": {
          "title": "Biggest percent of investment",
          "type": "normal",
          "order": "desc",
          "field": "percent"
        }
      },
      "table": {
        "fields": ["name", "receiver", "voivodeship", "region", "investment", "value", "percent", "start", "end"]
      }
    },
    "lyrics": {
      "meta": {
        "title": "Lyrics"
      },
      "schema": {
        "artist": {"type": "string", "store": true, "index": "not_analyzed" },
        "song": {"type": "string", "store": true, "index": "not_analyzed" },
        "visits": {"type": "integer", "store": true },
        "likes": {"type": "integer", "store": true },
        "yt_id": {"type": "string", "store": true }
      },
      "defaults": {
      },
      "aggregations": {
        "artist_terms": {"type": "terms", "field": "artist", "size": 10, "title": "Artists (popularity)", "order": true},
        "artist_terms2": {"type": "terms", "field": "artist", "size": 10, "title": "Artists"}
      },
      "sortings": {
        "most_likes": {
          "title": "Most likes",
          "type": "normal",
          "order": "desc",
          "field": "likes"
        },
        "most_visits": {
          "title": "Most visits",
          "type": "normal",
          "order": "desc",
          "field": "visits"
        }
      },
      "table": {
        "fields": ["artist", "song", "visits", "likes", "yt_id"]
      }
    },
    "npm": {
      "meta": {
        "title": "NPM (javascript)"
      },
      "schema": {
        "name": {"type": "string", "store": true, "index": "not_analyzed" },
        "short_description": {"type": "string", "store": true, "index": "not_analyzed" },
        "license": {"type": "string", "store": true, "index": "not_analyzed" },
        "tags": {"type": "string", "display": "array", "store": true },
        "collaborators": {"type": "string", "display": "array", "store": true },
        "downloads_last_day": {"type": "integer", "store": false },
        "releases": {"type": "integer", "store": false },
        "author": {"type": "string", "store": true, "index": "not_analyzed" }
      },
      "defaults": {
      },
      "aggregations": {
        "authors_terms": {"type": "terms", "field": "author", "size": 30, "title": "Authors"},
        "tags_terms": {"type": "terms", "field": "tags", "size": 15, "title": "Tags"},
        "collaborators_terms": {"type": "terms", "field": "collaborators", "size": 15, "title": "Collaborators"},
        "license_terms": {"type": "terms", "field": "license", "size": 10, "title": "Licenses"}
      },
      "sortings": {
        "most_overviews": {
          "title": "Most downloads last day",
          "type": "normal",
          "order": "desc",
          "field": "downloads_last_day"
        }
      },
      "table": {
        "fields": ["name", "short_description", "author", "license", "tags", "releases", "downloads_last_day"]
      }
    }
  }
}
